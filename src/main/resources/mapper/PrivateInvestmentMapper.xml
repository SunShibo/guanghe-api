<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.guanghe.api.dao.PrivateInvestmentDao">

    <sql id="limit">
        limit #{pageOffset}, #{pageSize}
    </sql>

    <select id="queryCount" resultType="int" parameterType="map">
        SELECT COUNT(id) FROM gh_private_investment WHERE 1=1
            <if test="investmentPoinId != null">
                AND investment_poin_id = #{investmentPoinId}
            </if>
            <if test="productTermId != null">
                AND product_term_id = #{productTermId}
            </if>
            <if test="riskLevelId != null">
                AND risk_level_id = #{riskLevelId}
            </if>
            <if test="incomeTypeId != null">
                AND income_type_id = #{incomeTypeId}
            </if>
    </select>

    <select id="queryList" parameterType="map" resultType="com.guanghe.api.entity.bo.PrivateInvestmentBO">
        SELECT * FROM gh_private_investment WHERE 1=1
        <if test="investmentPoinId != null">
            AND investment_poin_id = #{investmentPoinId}
        </if>
        <if test="productTermId != null">
            AND product_term_id = #{productTermId}
        </if>
        <if test="riskLevelId != null">
            AND risk_level_id = #{riskLevelId}
        </if>
        <if test="incomeTypeId != null">
            AND income_type_id = #{incomeTypeId}
        </if>
        ORDER BY create_time DESC
        <include refid="limit"/>
    </select>

    <select id="queryById" parameterType="int" resultType="com.guanghe.api.entity.bo.PrivateInvestmentBO">
        SELECT * FROM gh_private_investment WHERE id = #{id}
    </select>

    <delete id="delete" parameterType="int">
        DELETE FROM gh_private_investment WHERE id = #{id}
    </delete>

    <insert id="addBO" parameterType="com.guanghe.api.entity.bo.PrivateInvestmentBO">
        INSERT INTO gh_private_investment SET fund_name = #{fundName},fund_type=#{fundType},operations = #{operations},fund_manager=#{fundManager},
      fund_custodian = #{fundCustodian},product_scale=#{productScale},subscribe_starting_point = #{subscribeStartingPoint},product_term=#{productTerm},
      fund_investment = #{fundInvestment},capital_cost=#{capitalCost},comparison_datum = #{comparisonDatum},performance_reward=#{performanceReward},
      create_time = NOW(),start_time=#{startTime},end_time = #{endTime},amount_of_investment=#{amountOfInvestment},increasing_amount=#{increasingAmount},
      product_scale_start = #{productScaleStart},product_scale_end=#{productScaleEnd},
      investment_poin_id = #{investmentPoinId},product_term_id=#{productTermId},risk_level_id = #{riskLevelId},income_type_id=#{incomeTypeId}
    </insert>

    <update id="updateBO" parameterType="com.guanghe.api.entity.bo.PrivateInvestmentBO">
        UPDATE gh_private_investment  SET fund_name = #{fundName},fund_type=#{fundType},operations = #{operations},fund_manager=#{fundManager},
      fund_custodian = #{fundCustodian},product_scale=#{productScale},subscribe_starting_point = #{subscribeStartingPoint},product_term=#{productTerm},
      fund_investment = #{fundInvestment},capital_cost=#{capitalCost},comparison_datum = #{comparisonDatum},performance_reward=#{performanceReward},
      create_time = NOW(),start_time=#{startTime},end_time = #{endTime},amount_of_investment=#{amountOfInvestment},increasing_amount=#{increasingAmount},
      product_scale_start = #{productScaleStart},product_scale_end=#{productScaleEnd},
      investment_poin_id = #{investmentPoinId},product_term_id=#{productTermId},risk_level_id = #{riskLevelId},income_type_id=#{incomeTypeId} WHERE id = #{id}
    </update>
</mapper>