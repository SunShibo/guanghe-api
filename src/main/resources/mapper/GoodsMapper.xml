<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.guanghe.api.dao.mallDao.GoodsDao">

    <sql id="limit">
        limit #{pageOffset}, #{pageSize}
    </sql>
    <select id="queryGoods" parameterType="int" resultType="com.guanghe.api.entity.mallBo.GoodsBo">
        SELECT * FROM gh_news_update_industry_information WHERE id = #{id}
    </select>
    <delete id="deleteGoods" parameterType="int">
        delete from mall_goods_type where id = #{id}
    </delete>
    <insert id="addGoods" parameterType="com.guanghe.api.entity.mallBo.GoodsBo">
        INSERT INTO gh_news_update_industry_information  SET name = #{name},
        price = #{price},stock = #{stock},goodsNo = #{goodsNo},
        weight = #{weight},introduceImgUrl = #{introduceImgUrl},state = #{state},brandId = #{brandId},goodsTypeId = #{goodsTypeId}
         ,followCount = #{followCount}, saleCount = #{saleCount},create_time = NOW(),
      create_news_user = #{createNewsUser}

    </insert>
    <update id="updateGoods" parameterType="com.guanghe.api.entity.mallBo.GoodsBo">
        UPDATE gh_news_update_industry_information  SET name = #{name},
        price = #{price},stock = #{stock},goodsNo = #{goodsNo},update_time = NOW(),
        weight = #{weight},introduceImgUrl = #{introduceImgUrl},state = #{state},brandId = #{brandId},goodsTypeId = #{goodsTypeId}
         ,followCount = #{followCount}, saleCount = #{saleCount}WHERE id = #{id}
    </update>
    <select id="queryGoodsInfoByType" parameterType="int" resultType="com.guanghe.api.entity.mallBo.GoodsBo">
        select * from mall_goods_type WHERE goods_type_id=#{id}
    </select>
    <select id="queryGoodsInfo" parameterType="int" resultType="com.guanghe.api.entity.mallBo.GoodsBo">
        select * from mall_goods_type WHERE brandId=#{brandId}
    </select>
    <select id="queryGoodsInfoSort" parameterType="int" resultType="com.guanghe.api.entity.mallBo.GoodsBo">
        <if test="sortStatu=0">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=1">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=2">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=3">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=4">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=5">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=6">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=7">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
        <if test="sortStatu=8">
            select b.*
            from mall_goods_type t,mall_goods b
            where t.id =b.goods_type_id
            and t.pid =#{id}
        </if>
    </select>

    <select id="queryHomeGoodsList"  resultType="com.guanghe.api.entity.mallBo.GoodsBo">
        SELECT * FROM mall_goods WHERE homeState=1  OR homeState =2
    </select>

</mapper>